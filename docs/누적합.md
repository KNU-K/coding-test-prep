# ëˆ„ì í•©

-   1ì°¨ì› ëˆ„ì í•© (Prefix Sum)
-   2ì°¨ì› ëˆ„ì í•© (2D Prefix Sum)
-   ì°¨ì´ ë°°ì—´ (Difference Array)

## 1ì°¨ì› ëˆ„ì í•© (Prefix Sum)

### ì‹œê°„ë³µì¡ë„ğŸ”¥

-   ì‚¬ì „ ê³„ì‚° (Prefix Sum ë°°ì—´ êµ¬ì„±): O(n)
-   ë¶€ë¶„í•© ê³„ì‚°: O(1)

### ê°œë…ğŸ“–

-   í•„ìš” í•¨ìˆ˜

    -   ì‚¬ì „ ê³„ì‚° í•¨ìˆ˜
    -   ë¶€ë¶„í•© ê³„ì‚° í•¨ìˆ˜

-   ì´ˆê¸° ë°°ì—´

    | idx   | 0   | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9   | 10  |
    | ----- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
    | value | 0   | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9   | 10  |

-   ë¡œì§

    -   ì‚¬ì „ ê³„ì‚°

        | idx   | 0   | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9   | 10  |
        | ----- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
        | value | 0   | 1   | 3   | 6   | 10  | 15  | 21  | 28  | 36  | 45  | 55  |

        > arr[cur] = arr[cur] + ì´ì „ê¹Œì§€ ëˆ„ì í•©
        >
        > ```cpp
        > /**
        > * ì‚¬ì „ ë°°ì—´ì„ ì´ˆê¸°í™”í•œë‹¤.
        > */
        > void initPrefixArray(){
        >   int preValue = 0;
        >   for(int i=1;i<=M;i++){
        >       mat[i] += preValue;
        >       preValue = mat[i];
        >   }
        > }
        > ```

    -   ë¶€ë¶„í•© ê³„ì‚°

        a - b ê¹Œì§€ì˜ ëˆ„ì í•©ì„ êµ¬í•˜ë ¤ê³  í•œë‹¤ë©´, `arr[b] - arr[a-1]` ë¥¼ í•˜ë©´ ëœë‹¤.

        > ```cpp
        > #define getPrevValue(idx) (idx <= 0 ?0 : mat[idx]);
        >
        > /**
        > * @param {int} a
        > * @param {int} b
        > * a ~ bê¹Œì§€ì˜ êµ¬ê°„ì„ êµ¬í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ì´ë‹¤.
        > */
        > int calcPrefixSum(int a,int b){
        >    return mat[b] - getPrevValue(a-1);
        > }
        > ```

### [ì½”ë“œ ë³´ê¸°ğŸ”­](../src/ëˆ„ì í•©/1-array-prefix-sum.cpp)

## 2ì°¨ì› ëˆ„ì í•© (2D Prefix Sum)

### ì‹œê°„ë³µì¡ë„ğŸ”¥

-   ì‚¬ì „ ê³„ì‚° (Prefix Sum ë°°ì—´ êµ¬ì„±): O(nÂ²)
-   ë¶€ë¶„í•© ê³„ì‚°: O(1)

### ê°œë…ğŸ“–

-   í•„ìš” í•¨ìˆ˜

    -   2D ë°°ì—´ì˜ ì‚¬ì „ ê³„ì‚° í•¨ìˆ˜
    -   ë¶€ë¶„í•© ê³„ì‚° í•¨ìˆ˜

-   ì´ˆê¸° ë°°ì—´

    ```text
    1 2 3 4
    2 3 4 5
    3 4 5 6
    4 5 6 7
    ```

-   ë¡œì§

    -   ì‚¬ì „ ê³„ì‚°

        ```text
        1 3 6 10 10
        13 18 25 34 34
        40 49 61 76 76
        86 100 118 140 140
        150 164 182 204 204
        ```

        > prefixSumArr[i][j] = arr[i][j] + prefixSumArr[i][j-1] + prefixSumArr[i-1][j] - prefixSumArr[i-1][j-1]
        >
        > ```cpp
        > /**
        > * ì‚¬ì „ ë°°ì—´ì„ ì´ˆê¸°í™”í•œë‹¤.
        > */
        > void initPrefix2DArray(){
        >    int preValue = 0;
        >    for(int i=1;i<=M;i++){
        >        for(int j=1;j<=M;j++){
        >            sumMat[i][j] = mat[i][j] + sumMat[i][j-1] + sumMat[i-1][j] - sumMat[i-1][j-1];
        >        }
        >    }
        > }
        > ```

    -   ë¶€ë¶„í•© ê³„ì‚°

        (x1,y1) ~ (x2,y2)ê¹Œì§€ì˜ ëˆ„ì í•©ì„ êµ¬í•˜ë ¤ê³  í•œë‹¤ë©´, `sumMat[x2][y2] - sumMat[x1-1][y2] - sumMat[x2][y1-1] + sumMat[x1-1][y1-1]` ë¥¼ í•˜ë©´ ëœë‹¤.

        > ```cpp
        > /**
        > * @param {int} x1
        > * @param {int} y1
        > * @param {int} x2
        > * @param {int} y2
        > * (x1,y1) ~ (x2,y2)ê¹Œì§€ì˜ êµ¬ê°„ì„ êµ¬í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ì´ë‹¤.
        > */
        > int calcPrefixSum(int x1,int y1, int x2,int y2){
        >    return sumMat[x2][y2] - sumMat[x1-1][y2] - sumMat[x2][y1-1] + sumMat[x1-1][y1-1];
        > }
        > ```

### [ì½”ë“œ ë³´ê¸°ğŸ”­](../src/ëˆ„ì í•©/2-array-prefix-sum.cpp)
